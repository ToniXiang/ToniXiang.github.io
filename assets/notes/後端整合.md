## API 設計原則
RESTful API 是現代 Web 開發的標準，遵循以下原則：
- URL 命名必須用「名詞」，不應該用「動詞」
- 使用標準的 HTTP 狀態碼來表示請求結果
- 資源之間應該有清晰的層次結構
### HTTP 方法對應
```txt
GET     // 獲取資源
HEAD    // 獲取資源(不包括主體)
POST    // 創建資源
PUT     // 更新資源(整體更新)
PATCH   // 更新資源(部分更新)
DELETE  // 刪除資源
```
### 狀態碼設計
信息響應
- 100 Continue
成功響應
- 200 OK
- 201 Created
重定向
- 301 Moved Permanently(永久重定向)
- 303 See Other
- 304 Not Modified
客戶端錯誤
- 400 Bad Request
- 401 Unauthorized
- 403 Forbidden
- 404 Not Found
伺服器錯誤
- 500 Internal Server Error
### 路徑參數(Path Parameters)
- 出現在 URL 路徑中，例如：`/api/users/{id}`
- 用於標識特定資源，從網站就可以看到所以用於資源定位，不可用於登錄等敏感信息。
- 雖然 Path Parameter 不會直接注入 SQL（由後端 ORM 或 DB 查詢），但不能完全依賴前端，要後端做型別驗證。
### 查詢參數(Query Parameters)
- 出現在 URL 的`?`後面，例如：`/items?category=books&page=2`
- 用於過濾、排序和分頁等操作。
- 多個參數使用`&`分隔。
- 需要對參數進行驗證和轉義，防止 XSS、注入攻擊。
### 請求文本(Request Body)
- 出現在請求體中，通常用於 POST、PUT、PATCH 請求。
- 用於傳遞複雜數據，如 JSON 格式的對象。
```json
{
  "email": "abc@gmail.com",
  "password": "your_password"
}
```
- 可以包含多個字段，支持嵌套結構。
- 必須進行數據驗證，確保數據完整性和正確。
### 標頭(Header)
- 出現在 HTTP 請求或響應的頭部。
- 若 Content-Type 缺失可能造成 415 錯誤
- 內容通常是 JSON 例如：
```json
{
  "Content-Type": "application/json" 
}
```
### 驗證(Authorization)
- 在 Header 中傳遞授權資訊。例如：
```json
{
  "Authorization": "Token your_token_here"
}
```
- 用於驗證用戶身份，確保只有授權用戶才能訪問受保護的資源。
### 令牌(Token)
- 常用於無狀態認證機制。
- Token 通常包含用戶信息和過期時間，並經過簽名以防篡改。
- Bearer Token 是一種常見的 Token 類型。
- Access Token：用於訪問受保護的資源，通常有較短的有效期。
- Refresh Token：用於獲取新的 Access Token，通常有較長的有效期。
- 前端收到 Token 後必須安全保存，以防止被惡意應用程序訪問。
---
*RESTful API 是後端開發的基礎，掌握好這些概念對於全端開發非常重要！*
